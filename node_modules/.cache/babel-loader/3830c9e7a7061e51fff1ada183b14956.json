{"ast":null,"code":"/**\n * @typedef {import('hast').Root} Root\n * @typedef {import('katex').KatexOptions} Options\n */\nimport katex from 'katex';\nimport { visit } from 'unist-util-visit';\nimport { removePosition } from 'unist-util-remove-position';\nimport { toText } from 'hast-util-to-text';\nimport { unified } from 'unified';\nimport rehypeParse from 'rehype-parse';\nconst assign = Object.assign;\nconst parseHtml = unified().use(rehypeParse, {\n  fragment: true\n});\nconst source = 'rehype-katex';\n/**\n * Plugin to transform `<span class=math-inline>` and `<div class=math-display>`\n * with KaTeX.\n *\n * @type {import('unified').Plugin<[Options?]|void[], Root>}\n */\n\nexport default function rehypeKatex(options) {\n  const settings = options || {};\n  const throwOnError = settings.throwOnError || false;\n  return (tree, file) => {\n    visit(tree, 'element', element => {\n      const classes = element.properties && Array.isArray(element.properties.className) ? element.properties.className : [];\n      const inline = classes.includes('math-inline');\n      const displayMode = classes.includes('math-display');\n\n      if (!inline && !displayMode) {\n        return;\n      }\n\n      const value = toText(element, {\n        whitespace: 'pre'\n      });\n      /** @type {string} */\n\n      let result;\n\n      try {\n        result = katex.renderToString(value, assign({}, settings, {\n          displayMode,\n          throwOnError: true\n        }));\n      } catch (error_) {\n        const error =\n        /** @type {Error} */\n        error_;\n        const fn = throwOnError ? 'fail' : 'message';\n        const origin = [source, error.name.toLowerCase()].join(':');\n        file[fn](error.message, element.position, origin);\n        result = katex.renderToString(value, assign({}, settings, {\n          displayMode,\n          throwOnError: false,\n          strict: 'ignore'\n        }));\n      } // @ts-expect-error: assume no `doctypes` in KaTeX result.\n\n\n      element.children = removePosition(parseHtml.parse(result), true).children;\n    });\n  };\n}","map":{"version":3,"names":["katex","visit","removePosition","toText","unified","rehypeParse","assign","Object","parseHtml","use","fragment","source","rehypeKatex","options","settings","throwOnError","tree","file","element","classes","properties","Array","isArray","className","inline","includes","displayMode","value","whitespace","result","renderToString","error_","error","fn","origin","name","toLowerCase","join","message","position","strict","children","parse"],"sources":["C:/Users/rudra/Documents/original_website/The-Weirdos-NFT-Website-Starter-Code/node_modules/rehype-katex/index.js"],"sourcesContent":["/**\n * @typedef {import('hast').Root} Root\n * @typedef {import('katex').KatexOptions} Options\n */\n\nimport katex from 'katex'\nimport {visit} from 'unist-util-visit'\nimport {removePosition} from 'unist-util-remove-position'\nimport {toText} from 'hast-util-to-text'\nimport {unified} from 'unified'\nimport rehypeParse from 'rehype-parse'\n\nconst assign = Object.assign\n\nconst parseHtml = unified().use(rehypeParse, {fragment: true})\n\nconst source = 'rehype-katex'\n\n/**\n * Plugin to transform `<span class=math-inline>` and `<div class=math-display>`\n * with KaTeX.\n *\n * @type {import('unified').Plugin<[Options?]|void[], Root>}\n */\nexport default function rehypeKatex(options) {\n  const settings = options || {}\n  const throwOnError = settings.throwOnError || false\n\n  return (tree, file) => {\n    visit(tree, 'element', (element) => {\n      const classes =\n        element.properties && Array.isArray(element.properties.className)\n          ? element.properties.className\n          : []\n      const inline = classes.includes('math-inline')\n      const displayMode = classes.includes('math-display')\n\n      if (!inline && !displayMode) {\n        return\n      }\n\n      const value = toText(element, {whitespace: 'pre'})\n\n      /** @type {string} */\n      let result\n\n      try {\n        result = katex.renderToString(\n          value,\n          assign({}, settings, {displayMode, throwOnError: true})\n        )\n      } catch (error_) {\n        const error = /** @type {Error} */ (error_)\n        const fn = throwOnError ? 'fail' : 'message'\n        const origin = [source, error.name.toLowerCase()].join(':')\n\n        file[fn](error.message, element.position, origin)\n\n        result = katex.renderToString(\n          value,\n          assign({}, settings, {\n            displayMode,\n            throwOnError: false,\n            strict: 'ignore'\n          })\n        )\n      }\n\n      // @ts-expect-error: assume no `doctypes` in KaTeX result.\n      element.children = removePosition(parseHtml.parse(result), true).children\n    })\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,SAAQC,cAAR,QAA6B,4BAA7B;AACA,SAAQC,MAAR,QAAqB,mBAArB;AACA,SAAQC,OAAR,QAAsB,SAAtB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AAEA,MAAMC,MAAM,GAAGC,MAAM,CAACD,MAAtB;AAEA,MAAME,SAAS,GAAGJ,OAAO,GAAGK,GAAV,CAAcJ,WAAd,EAA2B;EAACK,QAAQ,EAAE;AAAX,CAA3B,CAAlB;AAEA,MAAMC,MAAM,GAAG,cAAf;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,WAAT,CAAqBC,OAArB,EAA8B;EAC3C,MAAMC,QAAQ,GAAGD,OAAO,IAAI,EAA5B;EACA,MAAME,YAAY,GAAGD,QAAQ,CAACC,YAAT,IAAyB,KAA9C;EAEA,OAAO,CAACC,IAAD,EAAOC,IAAP,KAAgB;IACrBhB,KAAK,CAACe,IAAD,EAAO,SAAP,EAAmBE,OAAD,IAAa;MAClC,MAAMC,OAAO,GACXD,OAAO,CAACE,UAAR,IAAsBC,KAAK,CAACC,OAAN,CAAcJ,OAAO,CAACE,UAAR,CAAmBG,SAAjC,CAAtB,GACIL,OAAO,CAACE,UAAR,CAAmBG,SADvB,GAEI,EAHN;MAIA,MAAMC,MAAM,GAAGL,OAAO,CAACM,QAAR,CAAiB,aAAjB,CAAf;MACA,MAAMC,WAAW,GAAGP,OAAO,CAACM,QAAR,CAAiB,cAAjB,CAApB;;MAEA,IAAI,CAACD,MAAD,IAAW,CAACE,WAAhB,EAA6B;QAC3B;MACD;;MAED,MAAMC,KAAK,GAAGxB,MAAM,CAACe,OAAD,EAAU;QAACU,UAAU,EAAE;MAAb,CAAV,CAApB;MAEA;;MACA,IAAIC,MAAJ;;MAEA,IAAI;QACFA,MAAM,GAAG7B,KAAK,CAAC8B,cAAN,CACPH,KADO,EAEPrB,MAAM,CAAC,EAAD,EAAKQ,QAAL,EAAe;UAACY,WAAD;UAAcX,YAAY,EAAE;QAA5B,CAAf,CAFC,CAAT;MAID,CALD,CAKE,OAAOgB,MAAP,EAAe;QACf,MAAMC,KAAK;QAAG;QAAsBD,MAApC;QACA,MAAME,EAAE,GAAGlB,YAAY,GAAG,MAAH,GAAY,SAAnC;QACA,MAAMmB,MAAM,GAAG,CAACvB,MAAD,EAASqB,KAAK,CAACG,IAAN,CAAWC,WAAX,EAAT,EAAmCC,IAAnC,CAAwC,GAAxC,CAAf;QAEApB,IAAI,CAACgB,EAAD,CAAJ,CAASD,KAAK,CAACM,OAAf,EAAwBpB,OAAO,CAACqB,QAAhC,EAA0CL,MAA1C;QAEAL,MAAM,GAAG7B,KAAK,CAAC8B,cAAN,CACPH,KADO,EAEPrB,MAAM,CAAC,EAAD,EAAKQ,QAAL,EAAe;UACnBY,WADmB;UAEnBX,YAAY,EAAE,KAFK;UAGnByB,MAAM,EAAE;QAHW,CAAf,CAFC,CAAT;MAQD,CArCiC,CAuClC;;;MACAtB,OAAO,CAACuB,QAAR,GAAmBvC,cAAc,CAACM,SAAS,CAACkC,KAAV,CAAgBb,MAAhB,CAAD,EAA0B,IAA1B,CAAd,CAA8CY,QAAjE;IACD,CAzCI,CAAL;EA0CD,CA3CD;AA4CD"},"metadata":{},"sourceType":"module"}